<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/PyMonitorMQTT/css/config_list.css">
</head>

{% assign nested_left_margin = "40" %}

{% assign contents_type = "Dict"  %}  
{% assign custom_topics_type = "List of String"  %} 
{% assign contents_description = "Dictionary where you should put the data you want to pass to the sensor." %}  
{% assign custom_topics_description = "List of topics to which the sensor will send the data.<br>If the sensor sends to a single topic, you will have to put one topic in the list.<br>If the sensor sends to more than one topic, you can register more topics; each topic in the list will be assigned in the same order as topics are added from the single sensor (order that you can check in the each individual sensor file."  %}  

{% assign defaults = site.data.sensors.default_options %}

{% for entry in include.sensor.config %}

    {% if entry.type %}
    {% assign type = entry.type %}
    {% elsif defaults[entry.key] %}
    {% assign type = defaults[entry.key].type %}
    {% endif %}

    {% if entry.description %}
    {% assign description = entry.description %}
    {% elsif defaults[entry.key] %}
    {% assign description = defaults[entry.key].description %}
    {% endif %}

    {% if entry.required == true %}
    {% assign required_class = "required-string" %}
    {% assign required_text = "required" %}
    {% else %}
    {% assign required_class = "optional-string" %}
    {% assign required_text = "optional" %}
    {% endif %}

    {% if entry.level %}
    {% assign level-margin = entry.level | minus: 1 | times: nested_left_margin %}
    <div class="key-list-item" style="margin-left: {{level-margin}}px;">
    {% else %}
    <div class="key-list-item">
    {% endif %}


    <div class="key-list-item-header">
        <span class="key">{{entry.key}}</span>
        <span class="{{required_class}}">{{required_text}}</span>
    </div>
    <span class="type">{{type}}</span>
    {{description}}

</div>

{% endfor %}

</html>
