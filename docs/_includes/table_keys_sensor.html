<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/PyMonitorMQTT/css/config_list.css">
</head>

DA DEFINIRE contents.type, contents.description, custom_topics.type, custom_topics.description

{% assign contents_type = "Dict"  %}  
{% assign custom_topics_type = "List of String"  %} 
{% assign contents_description = "Dictionary where you should put the data you want to pass to the sensor." %}  
{% assign custom_topics_description = "List of topics wo which the sensor will send the data.<br>If the sensor sends to a single topic, you will have to put one topic in the list.<br>If the sensor sends to more than one topic, you can registe more topics; each custom_topic will be assigned in topic registration order (that you can see in the single sensor file."  %}  


{% if include.sensor %}
    <table class="keys">
        <thead>
            <th>Key</th>
            <th>âœ±</th>
            <th>Type</th>
            <th>Description</th>
        </thead>
        {% for entry in include.sensor.config %}

            <td>{{entry.key}}</td>

            {% if entry.required == "Yes" %}
                <tr class="required">
            {% else %}
                <tr class="optional">
            {% endif %}
            <td>{{entry.required}}</td>

            {% if entry.type %}
                <td>{{entry.type}}</td>
            {% else %}
                {% case entry.key %}
                    {% when "contents" %}
                        <td>{{contents_type}}</td>
                    {% when "custom_topics" %}
                        <td>{{custom_topics_type}}</td>
                {% endcase %}
            {% endif %}


            {% if entry.description %}
                <td>{{entry.description}}</td>
            {% else %}
                {% case entry.key %}
                    {% when "contents" %}
                        <td>{{contents_description}}</td>
                    {% when "custom_topics" %}
                        <td>{{custom_topics_description}}</td>
                {% endcase %}
            {% endif %}
    
            </tr>
        {% endfor %}
    </table>
{% endif %}

</html>
