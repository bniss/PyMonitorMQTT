<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/PyMonitorMQTT/css/topics_list.css">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Gentium+Basic&display=swap" rel="stylesheet">
</head>

{% for entry in include.element.topics %}

    {% if include.type=="sensors" %}
    {% if entry.type %}
    {% if entry.type == "basic" %}
    {% assign type_class = "topic-type-string" %}
    {% assign type_text = "basic" %}
    {% elsif entry.type == "extra" %}
    {% assign type_class = "topic-type-string topic-advanced" %}
    {% assign type_text = "advanced" %}
    {% endif %}
    {% else %}
    {% assign type_class = "topic-type-string" %}
    {% assign type_text = "basic" %}
    {% endif %}
    {% else %}
    {% assign type_class = "" %}
    {% assign type_text = "" %}
    {% endif %}

    {% if include.type=="commands" %}
    {% if entry.need_payload %}
    {% assign need_payload_class = "needed-payload payload-need-string" %}
    {% assign need_payload_text = "payload needed" %}
    {% else %}
    {% assign need_payload_class = "payload-need-string" %}
    {% assign need_payload_text = "payload not needed" %}
    {% endif %} 
    {% else %}
    {% assign need_payload_class = "" %}
    {% assign need_payload_text = "" %}
    {% endif %} 
    
<div class="topic-list-item">

    <div class="topic-list-item-header">
        <span class="topic">.../{{entry.topic}}</span>
        <span class="{{type_class}}">{{type_text}}</span>
        <span class="{{need_payload_class}}">{{need_payload_text}}</span>
    </div>    
    
<div class="topic-lower-div">
{{entry.description}}
</div>

{% if element_type == "commands" and entry.need_payload %}
<div class="topic-payload">
<span class="type">Type: {{entry.payload.type}}</span>
{% if entry.payload.type == "json" %}
<div class="config">
{% include list_keys.html config=entry.payload.config %}
</div>
{% endif %} 
</div>
{% endif %} 

</div>

{% endfor %}

</html>
